# Ğ¢ĞµÑ…Ğ½Ñ–Ñ‡Ğ½Ğµ Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ: Guest Recognition R&D Platform

**Ğ’ĞµÑ€ÑÑ–Ñ:** 1.0  
**Ğ”Ğ°Ñ‚Ğ°:** 13 ÑÑ–Ñ‡Ğ½Ñ 2026  
**Ğ¢Ğ¸Ğ¿ Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ:** R&D / Ğ¢ĞµÑ…Ğ½Ğ¾Ğ´ĞµĞ¼Ğ¾  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** Draft  

---

## Ğ—Ğ¼Ñ–ÑÑ‚

1. [Ğ—Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ¾Ğ¿Ğ¸Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸](#1-Ğ·Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹-Ğ¾Ğ¿Ğ¸Ñ-ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸)
2. [ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#2-Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
3. [Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ‡Ğ½Ğ¸Ğ¹ ÑÑ‚ĞµĞº](#3-Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ‡Ğ½Ğ¸Ğ¹-ÑÑ‚ĞµĞº)
4. [Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ¾Ğ¿Ğ¸Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ–Ğ²](#4-Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹-Ğ¾Ğ¿Ğ¸Ñ-Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ–Ğ²)
5. [Ğ”Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¸](#5-Ğ´Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¸)
6. [Ğ•Ñ‚Ğ°Ğ¿Ğ¸ Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ—](#6-ĞµÑ‚Ğ°Ğ¿Ğ¸-Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ—-roadmap)
7. [Ğ Ğ¸Ğ·Ğ¸ĞºĞ¸ Ñ‚Ğ° Ğ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ğ½Ñ](#7-Ñ€Ğ¸Ğ·Ğ¸ĞºĞ¸-Ñ‚Ğ°-Ğ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ğ½Ñ)
8. [Deliverables](#8-deliverables)

---

## 1. Ğ—Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ¾Ğ¿Ğ¸Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸

### 1.1 ĞœĞµÑ‚Ğ° Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ

Ğ Ğ¾Ğ·Ñ€Ğ¾Ğ±ĞºĞ° Ğ´Ğ¾ÑĞ»Ñ–Ğ´Ğ½Ğ¸Ñ†ÑŒĞºĞ¾Ğ³Ğ¾ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ´ĞµĞ¼Ğ¾ Ğ´Ğ»Ñ Ğ³Ğ¾Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ±Ñ–Ğ·Ğ½ĞµÑÑƒ, Ñ‰Ğ¾ Ğ·Ğ°Ğ±ĞµĞ·Ğ¿ĞµÑ‡ÑƒÑ”:

- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ·Ğ±Ñ–Ñ€ Ñ„Ğ¾Ñ‚Ğ¾ Ğ³Ğ¾ÑÑ‚ĞµĞ¹ Ñ‚Ğ° Ñ—Ñ…Ğ½Ñ–Ñ… Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ–Ğ²
- OCR-Ñ€Ğ¾Ğ·Ğ¿Ñ–Ğ·Ğ½Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ–Ğ² Ñ€Ñ–Ğ·Ğ½Ğ¸Ñ… ĞºÑ€Ğ°Ñ—Ğ½
- ĞŸÑ–Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºÑƒ Ñ–Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸ Ğ´Ğ»Ñ face recognition
- Ğ”Ğ¾ÑĞ»Ñ–Ğ´Ğ¶ĞµĞ½Ğ½Ñ Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ĞµĞ¹ edge AI Ğ½Ğ° Ğ±Ğ°Ğ·Ñ– NVIDIA Dev Kit

### 1.2 Scope Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ

| ĞÑĞ¿ĞµĞºÑ‚ | ĞĞ¿Ğ¸Ñ |
|--------|------|
| **Ğ¢Ğ¸Ğ¿** | R&D, Ğ½Ğµ production |
| **Ğ¡ĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğµ** | Ğ’Ğ½ÑƒÑ‚Ñ€Ñ–ÑˆĞ½Ñ Ğ¼ĞµÑ€ĞµĞ¶Ğ° Ğ³Ğ¾Ñ‚ĞµĞ»Ñ |
| **ĞšĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ñ–** | ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ» Ñ€ĞµÑĞµĞ¿ÑˆĞ½Ñƒ (Ğ´Ğ¾ 5 Ğ¾Ğ´Ğ½Ğ¾Ñ‡Ğ°ÑĞ½Ğ¸Ñ…) |
| **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±** | Single-location pilot |
| **Ğ”Ğ°Ğ½Ñ–** | ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ– Ğ´Ğ°Ğ½Ñ– Ğ³Ğ¾ÑÑ‚ĞµĞ¹ (GDPR considerations Ğ´Ğ»Ñ Ğ¼Ğ°Ğ¹Ğ±ÑƒÑ‚Ğ½ÑŒĞ¾Ğ³Ğ¾) |

### 1.3 ĞĞ±Ğ¼ĞµĞ¶ĞµĞ½Ğ½Ñ

- **ĞĞµ Ñ” production-ready ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ñ** â€” Ğ²Ñ–Ğ´ÑÑƒÑ‚Ğ½Ñ Ğ¿Ğ¾Ğ²Ğ½Ğ° Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº, SLA, disaster recovery
- **Cloud OCR dependency** â€” Ğ½Ğ° ĞµÑ‚Ğ°Ğ¿Ñ– R&D Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ñ‚ÑŒÑÑ Ğ·Ğ¾Ğ²Ğ½Ñ–ÑˆĞ½Ñ–Ğ¹ API
- **Ğ‘ĞµĞ· real-time Ğ²Ğ¸Ğ¼Ğ¾Ğ³** â€” Ğ´Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ğ¼Ğ° Ğ·Ğ°Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ° Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ Ğ´Ğ¾ 30 ÑĞµĞºÑƒĞ½Ğ´
- **ĞĞ±Ğ¼ĞµĞ¶ĞµĞ½Ğ¸Ğ¹ hardware** â€” NVIDIA Dev Kit Ğ±ÑƒĞ´Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ Ğ½Ğ° Ğ¿Ñ–Ğ·Ğ½Ñ–ÑˆĞ¸Ñ… ĞµÑ‚Ğ°Ğ¿Ğ°Ñ…
- **Ğ’Ğ½ÑƒÑ‚Ñ€Ñ–ÑˆĞ½Ñ Ğ¼ĞµÑ€ĞµĞ¶Ğ°** â€” ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ½Ğµ ĞµĞºÑĞ¿Ğ¾Ğ½ÑƒÑ”Ñ‚ÑŒÑÑ Ğ² Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚

### 1.4 ĞšĞ»ÑÑ‡Ğ¾Ğ²Ñ– Ñ‚ĞµÑ€Ğ¼Ñ–Ğ½Ğ¸

| Ğ¢ĞµÑ€Ğ¼Ñ–Ğ½ | Ğ’Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ |
|--------|------------|
| **Guest Record** | Ğ¡ÑƒĞºÑƒĞ¿Ğ½Ñ–ÑÑ‚ÑŒ Ğ´Ğ°Ğ½Ğ¸Ñ… Ğ¿Ñ€Ğ¾ Ğ³Ğ¾ÑÑ‚Ñ: Ñ„Ğ¾Ñ‚Ğ¾, Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¸, OCR-Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸ |
| **Face Embedding** | Ğ’ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğµ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ¾Ğ±Ğ»Ğ¸Ñ‡Ñ‡Ñ (128-512 dim) |
| **Ingestion** | ĞŸÑ€Ğ¾Ñ†ĞµÑ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ñ‚Ğ° Ğ¿ĞµÑ€Ğ²Ğ¸Ğ½Ğ½Ğ¾Ñ— Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ Ğ²Ñ…Ñ–Ğ´Ğ½Ğ¸Ñ… Ğ´Ğ°Ğ½Ğ¸Ñ… |
| **Edge AI** | Ğ’Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ ML inference Ğ½Ğ° Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼Ñƒ Ğ¿Ñ€Ğ¸ÑÑ‚Ñ€Ğ¾Ñ— |

---

## 2. ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### 2.1 Ğ’Ğ¸ÑĞ¾ĞºĞ¾Ñ€Ñ–Ğ²Ğ½ĞµĞ²Ğ° Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ÑĞºĞ»Ğ°Ğ´Ğ°Ñ”Ñ‚ÑŒÑÑ Ğ· Ñ‚Ğ°ĞºĞ¸Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ–Ğ²:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              INGESTION LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       Mail Ingestion            â”‚           Web Ingestion                   â”‚
â”‚    (Internal Mail Server)       â”‚         (React Web App)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            PROCESSING LAYER                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   File Processor    â”‚    OCR Service      â”‚      Face Processor             â”‚
â”‚   (Validation,      â”‚   (Cloud API        â”‚    (Detection, Cropping,        â”‚
â”‚    Normalization)   â”‚    Integration)     â”‚     Embedding Prep)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             STORAGE LAYER                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   PostgreSQL        â”‚   File Storage      â”‚   Vector DB (Future)            â”‚
â”‚   (Metadata,        â”‚   (Raw images,      â”‚   (Face embeddings,             â”‚
â”‚    OCR results)     â”‚    documents)       â”‚    similarity search)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FUTURE: EDGE LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   NVIDIA Dev Kit + Camera                                                   â”‚
â”‚   (Real-time face detection, recognition, tracking)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Backend Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        API Gateway                              â”‚
â”‚                    (FastAPI / nginx)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼               â–¼               â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Guest    â”‚   â”‚  Document â”‚   â”‚  Face     â”‚
       â”‚  Service  â”‚   â”‚  Service  â”‚   â”‚  Service  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚               â”‚               â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Task Queue     â”‚
                    â”‚  (Celery/Redis) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼               â–¼               â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  OCR      â”‚   â”‚  Face     â”‚   â”‚  File     â”‚
       â”‚  Worker   â”‚   â”‚  Worker   â”‚   â”‚  Worker   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Ingestion Pipeline

#### Mail Ingestion Flow

```
Mail Server â†’ IMAP Polling â†’ Attachment Extraction â†’ Validation â†’ Queue â†’ Processing
```

#### Web Ingestion Flow

```
Browser Camera/Upload â†’ API Endpoint â†’ Validation â†’ Queue â†’ Processing
```

### 2.4 Edge vs Cloud Distribution

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | ĞŸĞ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ğ¹ ĞµÑ‚Ğ°Ğ¿ (Cloud) | ĞœĞ°Ğ¹Ğ±ÑƒÑ‚Ğ½Ñ–Ğ¹ ĞµÑ‚Ğ°Ğ¿ (Edge) |
|-----------|----------------------|----------------------|
| OCR | Cloud API (Azure/Google) | Cloud API (Ğ·Ğ°Ğ»Ğ¸ÑˆĞ°Ñ”Ñ‚ÑŒÑÑ) |
| Face Detection | Cloud/Local (CPU) | NVIDIA Dev Kit (GPU) |
| Face Recognition | ĞĞµ Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ | NVIDIA Dev Kit |
| File Storage | Local/NAS | Local/NAS |
| Database | Local PostgreSQL | Local PostgreSQL |
| Video Stream | â€” | NVIDIA Dev Kit + Camera |

---

## 3. Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ‡Ğ½Ğ¸Ğ¹ ÑÑ‚ĞµĞº

### 3.1 Backend

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ | ĞĞ±Ò‘Ñ€ÑƒĞ½Ñ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|-----------|-----------|---------------|
| **Runtime** | Python 3.11+ | Ğ•ĞºĞ¾ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° ML/CV, ÑˆĞ²Ğ¸Ğ´ĞºĞ° Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±ĞºĞ° |
| **Web Framework** | FastAPI | Async, Ğ°Ğ²Ñ‚Ğ¾Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ, Ñ‚Ğ¸Ğ¿Ñ–Ğ·Ğ°Ñ†Ñ–Ñ |
| **Task Queue** | Celery + Redis | Async processing, retry logic |
| **ORM** | SQLAlchemy 2.0 | Type hints, async support |
| **Validation** | Pydantic v2 | Data validation, serialization |

### 3.2 Frontend

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ | ĞĞ±Ò‘Ñ€ÑƒĞ½Ñ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|-----------|-----------|---------------|
| **Framework** | React 18+ | Component model, ecosystem |
| **Build Tool** | Vite | Fast HMR, modern bundling |
| **UI Library** | Tailwind CSS + shadcn/ui | Rapid prototyping |
| **Camera API** | MediaDevices API | Browser-native, no plugins |
| **State** | Zustand / React Query | Lightweight, server state |

### 3.3 OCR

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ | ĞĞ±Ò‘Ñ€ÑƒĞ½Ñ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|-----------|-----------|---------------|
| **Primary** | Azure AI Document Intelligence | MRZ support, multi-language |
| **Fallback** | Google Cloud Vision API | Alternative, comparison |
| **Local (future)** | Tesseract + EasyOCR | Offline capability research |

### 3.4 ML / Computer Vision

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ | ĞĞ±Ò‘Ñ€ÑƒĞ½Ñ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|-----------|-----------|---------------|
| **Face Detection** | MTCNN / RetinaFace | Accuracy, Python native |
| **Face Embeddings** | FaceNet / ArcFace | Standard embeddings |
| **Image Processing** | OpenCV, Pillow | Standard tools |
| **ML Framework** | PyTorch | NVIDIA compatibility |

### 3.5 Storage

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ | ĞĞ±Ò‘Ñ€ÑƒĞ½Ñ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|-----------|-----------|---------------|
| **RDBMS** | PostgreSQL 15+ | JSON support, reliability |
| **File Storage** | Local FS / MinIO | S3-compatible, local |
| **Vector DB (future)** | pgvector / Milvus | Embedding similarity search |
| **Cache** | Redis | Session, task broker |

### 3.6 Infrastructure

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ | ĞĞ±Ò‘Ñ€ÑƒĞ½Ñ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ |
|-----------|-----------|---------------|
| **Containerization** | Docker + Docker Compose | Reproducibility |
| **Reverse Proxy** | nginx | Static files, routing |
| **Monitoring** | Prometheus + Grafana | Metrics, dashboards |
| **Logging** | Loki / ELK (simplified) | Centralized logs |

### 3.7 NVIDIA Stack (Ğ¼Ğ°Ğ¹Ğ±ÑƒÑ‚Ğ½Ñ”)

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ | ĞŸÑ€Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ |
|-----------|-----------|-------------|
| **Hardware** | NVIDIA Jetson Orin | Edge AI compute |
| **SDK** | JetPack 6.x | Base OS, CUDA, TensorRT |
| **Inference** | TensorRT | Optimized inference |
| **Video** | DeepStream SDK | Video analytics pipeline |
| **Models** | TAO Toolkit | Model customization |

---

## 4. Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ¾Ğ¿Ğ¸Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ–Ğ²

### 4.1 Mail Ingestion Module

#### 4.1.1 ĞĞ¿Ğ¸Ñ

Ğ¡ĞµÑ€Ğ²Ñ–Ñ Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ğ²ĞºĞ»Ğ°Ğ´ĞµĞ½ÑŒ Ğ· Ğ²Ğ½ÑƒÑ‚Ñ€Ñ–ÑˆĞ½ÑŒĞ¾Ğ³Ğ¾ Ğ¿Ğ¾ÑˆÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€Ğ°.

#### 4.1.2 Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ– Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ğ¸

| ID | Ğ’Ğ¸Ğ¼Ğ¾Ğ³Ğ° | ĞŸÑ€Ñ–Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ |
|----|--------|-----------|
| MI-01 | ĞŸÑ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ Ğ´Ğ¾ Ğ²Ğ½ÑƒÑ‚Ñ€Ñ–ÑˆĞ½ÑŒĞ¾Ğ³Ğ¾ IMAP ÑĞµÑ€Ğ²ĞµÑ€Ğ° | Must |
| MI-02 | Polling Ğ· Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ğ½Ğ¸Ğ¼ Ñ–Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»Ğ¾Ğ¼ (default: 30s) | Must |
| MI-03 | Ğ’Ğ¸Ñ‚ÑĞ³ Ğ²ĞºĞ»Ğ°Ğ´ĞµĞ½ÑŒ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ–Ğ²: JPEG, PNG, PDF | Must |
| MI-04 | Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€Ñƒ Ñ„Ğ°Ğ¹Ğ»Ñƒ (max 20MB) | Must |
| MI-05 | Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ MIME-Ñ‚Ğ¸Ğ¿Ñƒ | Must |
| MI-06 | ĞœĞ°Ñ€ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ĞµĞ½Ğ¸Ñ… Ğ»Ğ¸ÑÑ‚Ñ–Ğ² | Should |
| MI-07 | Ğ›Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ²ÑÑ–Ñ… Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–Ğ¹ | Must |
| MI-08 | Retry logic Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°Ñ… Ğ·'Ñ”Ğ´Ğ½Ğ°Ğ½Ğ½Ñ | Should |

#### 4.1.3 ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ

```yaml
mail_ingestion:
  host: "internal-mail.local"
  port: 993
  protocol: "IMAP"
  use_ssl: true
  polling_interval_seconds: 30
  inbox_folder: "INBOX"
  processed_folder: "Processed"
  max_attachment_size_mb: 20
  allowed_mime_types:
    - "image/jpeg"
    - "image/png"
    - "application/pdf"
```

#### 4.1.4 Ğ†Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ

```python
class MailIngestionService:
    async def start_polling() -> None
    async def stop_polling() -> None
    async def process_message(message_id: str) -> IngestionResult
    async def extract_attachments(message: Message) -> list[Attachment]
    async def validate_attachment(attachment: Attachment) -> ValidationResult
```

#### 4.1.5 Error Handling

| ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° | Ğ”Ñ–Ñ |
|---------|-----|
| Connection timeout | Retry Ğ· exponential backoff (max 5 attempts) |
| Invalid attachment | Log warning, skip attachment, continue |
| Storage failure | Retry 3 times, then dead-letter queue |

---

### 4.2 Web Ingestion Module

#### 4.2.1 ĞĞ¿Ğ¸Ñ

React-Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ½Ğ¾Ğº Ğ´Ğ»Ñ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ñƒ Ñ€ĞµÑĞµĞ¿ÑˆĞ½Ñƒ Ğ· Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚Ñ:
- Ğ’Ğ²ĞµĞ´ĞµĞ½Ğ½Ñ Ğ´Ğ°Ğ½Ğ¸Ñ… Ğ³Ğ¾ÑÑ‚Ñ
- Ğ¤Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ‡ĞµÑ€ĞµĞ· ĞºĞ°Ğ¼ĞµÑ€Ñƒ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ°
- Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ–Ğ²

#### 4.2.2 Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ– Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ğ¸

| ID | Ğ’Ğ¸Ğ¼Ğ¾Ğ³Ğ° | ĞŸÑ€Ñ–Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ |
|----|--------|-----------|
| WI-01 | Ğ¤Ğ¾Ñ€Ğ¼Ğ° Ğ²Ğ²ĞµĞ´ĞµĞ½Ğ½Ñ Ğ´Ğ°Ğ½Ğ¸Ñ… Ğ³Ğ¾ÑÑ‚Ñ | Must |
| WI-02 | Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ´Ğ¾ ĞºĞ°Ğ¼ĞµÑ€Ğ¸ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° | Must |
| WI-03 | Capture Ñ„Ğ¾Ñ‚Ğ¾ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼Ñƒ Ñ‡Ğ°ÑÑ– | Must |
| WI-04 | Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² (drag & drop) | Must |
| WI-05 | Preview Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ¸Ñ…/ÑÑ„Ğ¾Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ… Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ | Must |
| WI-06 | Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ğ½Ğ° ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ñ– (Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚, Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€) | Must |
| WI-07 | Ğ†Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ ÑÑ‚Ğ°Ñ‚ÑƒÑÑƒ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ | Should |
| WI-08 | Ğ†ÑÑ‚Ğ¾Ñ€Ñ–Ñ Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ–Ñ… Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ² | Should |
| WI-09 | Offline-Ñ€ĞµĞ¶Ğ¸Ğ¼ Ğ· sync (future) | Could |

#### 4.2.3 UI Components

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Guest Registration                              [History]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                 â”‚  â”‚  Guest Information              â”‚  â”‚
â”‚  â”‚   Camera Feed   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚   / Preview     â”‚  â”‚  â”‚ First Name              â”‚    â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚  [ğŸ“· Capture]   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚  â”‚ Last Name               â”‚    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ Room Number             â”‚    â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚  Document       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚  Upload Zone    â”‚                                       â”‚
â”‚  â”‚  [Drag & Drop]  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                 â”‚  â”‚        [Submit Guest]           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.2.4 API Endpoints

```
POST /api/v1/guests
  - Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑƒ Ğ³Ğ¾ÑÑ‚Ñ

POST /api/v1/guests/{id}/photos
  - Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ„Ğ¾Ñ‚Ğ¾ Ğ³Ğ¾ÑÑ‚Ñ

POST /api/v1/guests/{id}/documents
  - Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°

GET /api/v1/guests/{id}/status
  - ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ ÑÑ‚Ğ°Ñ‚ÑƒÑÑƒ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸

GET /api/v1/guests/recent
  - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ–Ñ… Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ²
```

---

### 4.3 OCR Service

#### 4.3.1 ĞĞ¿Ğ¸Ñ

Ğ¡ĞµÑ€Ğ²Ñ–Ñ Ğ´Ğ»Ñ Ñ€Ğ¾Ğ·Ğ¿Ñ–Ğ·Ğ½Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ñ‚ĞµĞºÑÑ‚Ñƒ Ğ· Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ–Ğ² (Ğ¿Ğ°ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸, ID-ĞºĞ°Ñ€Ñ‚ĞºĞ¸) Ñ‡ĞµÑ€ĞµĞ· cloud API.

#### 4.3.2 ĞŸÑ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ÑƒĞ²Ğ°Ğ½Ñ– Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¸

| Ğ¢Ğ¸Ğ¿ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ° | ĞŸÑ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ° | ĞŸÑ€Ğ¸Ğ¼Ñ–Ñ‚ĞºĞ¸ |
|---------------|-----------|----------|
| Ğ—Ğ°ĞºĞ¾Ñ€Ğ´Ğ¾Ğ½Ğ½Ğ¸Ğ¹ Ğ¿Ğ°ÑĞ¿Ğ¾Ñ€Ñ‚ (MRZ) | Full | Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ |
| ID-ĞºĞ°Ñ€Ñ‚ĞºĞ° (Ğ„Ğ¡) | Partial | Ğ—Ğ°Ğ»ĞµĞ¶Ğ¸Ñ‚ÑŒ Ğ²Ñ–Ğ´ ĞºÑ€Ğ°Ñ—Ğ½Ğ¸ |
| ID-ĞºĞ°Ñ€Ñ‚ĞºĞ° (Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ°) | Partial | ĞĞ¾Ğ²Ğ¸Ğ¹/ÑÑ‚Ğ°Ñ€Ğ¸Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ |
| Ğ’Ğ¾Ğ´Ñ–Ğ¹ÑÑŒĞºĞµ Ğ¿Ğ¾ÑĞ²Ñ–Ğ´Ñ‡ĞµĞ½Ğ½Ñ | Experimental | ĞĞ¸Ğ·ÑŒĞºĞ¸Ğ¹ Ğ¿Ñ€Ñ–Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ |

#### 4.3.3 Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ– Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ğ¸

| ID | Ğ’Ğ¸Ğ¼Ğ¾Ğ³Ğ° | ĞŸÑ€Ñ–Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ |
|----|--------|-----------|
| OCR-01 | Ğ†Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ Ğ· Azure Document Intelligence | Must |
| OCR-02 | Fallback Ğ½Ğ° Google Cloud Vision | Should |
| OCR-03 | Ğ Ğ¾Ğ·Ğ¿Ñ–Ğ·Ğ½Ğ°Ğ²Ğ°Ğ½Ğ½Ñ MRZ (Machine Readable Zone) | Must |
| OCR-04 | Ğ’Ğ¸Ñ‚ÑĞ³: Ñ–Ğ¼'Ñ, Ğ¿Ñ€Ñ–Ğ·Ğ²Ğ¸Ñ‰Ğµ, Ğ½Ğ¾Ğ¼ĞµÑ€ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ° | Must |
| OCR-05 | Ğ’Ğ¸Ñ‚ÑĞ³: ĞºÑ€Ğ°Ñ—Ğ½Ğ°, Ğ´Ğ°Ñ‚Ğ° Ğ½Ğ°Ñ€Ğ¾Ğ´Ğ¶ĞµĞ½Ğ½Ñ | Should |
| OCR-06 | Confidence score Ğ´Ğ»Ñ ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ»Ñ | Must |
| OCR-07 | ĞŸÑ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ° PDF (ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ñ–Ñ Ğ² image) | Must |
| OCR-08 | Preprocessing Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ (deskew, contrast) | Should |

#### 4.3.4 Data Model

```python
@dataclass
class OCRResult:
    document_type: DocumentType
    raw_text: str
    structured_data: StructuredDocumentData
    confidence: float
    processing_time_ms: int
    provider: str
    
@dataclass
class StructuredDocumentData:
    first_name: Optional[str]
    last_name: Optional[str]
    document_number: Optional[str]
    country_code: Optional[str]
    date_of_birth: Optional[date]
    expiry_date: Optional[date]
    mrz_line1: Optional[str]
    mrz_line2: Optional[str]
    field_confidences: dict[str, float]
```

#### 4.3.5 Processing Pipeline

```
Input Image
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Preprocessing   â”‚ â† Resize, deskew, contrast adjustment
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Document Type   â”‚ â† Classify: passport, ID, unknown
â”‚ Detection       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OCR API Call    â”‚ â† Azure Document Intelligence
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MRZ Parsing     â”‚ â† If MRZ detected
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Data            â”‚ â† Normalize names, dates
â”‚ Normalization   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Validation      â”‚ â† Check digit verification (MRZ)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
   OCRResult
```

---

### 4.4 Data Normalization Module

#### 4.4.1 ĞĞ¿Ğ¸Ñ

ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ´Ğ»Ñ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ— Ñ‚Ğ° Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ— Ğ´Ğ°Ğ½Ğ¸Ñ… Ğ· Ñ€Ñ–Ğ·Ğ½Ğ¸Ñ… Ğ´Ğ¶ĞµÑ€ĞµĞ».

#### 4.4.2 Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ—

| Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ | ĞĞ¿Ğ¸Ñ |
|---------|------|
| Name normalization | Uppercase, Ğ²Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ ÑĞ¿ĞµÑ†ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ñ–Ğ², Ñ‚Ñ€Ğ°Ğ½ÑĞ»Ñ–Ñ‚ĞµÑ€Ğ°Ñ†Ñ–Ñ |
| Date normalization | Ğ£Ğ½Ñ–Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ–Ğ² Ğ´Ğ°Ñ‚ |
| Country code mapping | ISO 3166-1 alpha-3 |
| MRZ checksum validation | ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒĞ½Ğ¸Ñ… Ñ†Ğ¸Ñ„Ñ€ |
| Duplicate detection | ĞŸĞ¾ÑˆÑƒĞº Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ñ–Ğ¹Ğ½Ğ¸Ñ… Ğ´ÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ‚Ñ–Ğ² |

#### 4.4.3 ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ— Ñ–Ğ¼ĞµĞ½

```python
def normalize_name(raw_name: str) -> str:
    """
    1. Uppercase
    2. Remove diacritics (Ã© â†’ E, Ã¼ â†’ U)
    3. Replace special chars with space
    4. Collapse multiple spaces
    5. Strip leading/trailing spaces
    """
```

---

### 4.5 Face Processing Module

#### 4.5.1 ĞĞ¿Ğ¸Ñ

ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ´Ğ»Ñ Ğ²Ğ¸ÑĞ²Ğ»ĞµĞ½Ğ½Ñ Ğ¾Ğ±Ğ»Ğ¸Ñ‡ Ñ‚Ğ° Ğ¿Ñ–Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ¸ Ğ´Ğ¾ Ñ€Ğ¾Ğ·Ğ¿Ñ–Ğ·Ğ½Ğ°Ğ²Ğ°Ğ½Ğ½Ñ.

#### 4.5.2 Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ– Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ğ¸

| ID | Ğ’Ğ¸Ğ¼Ğ¾Ğ³Ğ° | ĞŸÑ€Ñ–Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ |
|----|--------|-----------|
| FP-01 | Face detection Ğ½Ğ° Ñ„Ğ¾Ñ‚Ğ¾ | Must |
| FP-02 | Face cropping Ğ· padding | Must |
| FP-03 | Face alignment (optional) | Should |
| FP-04 | Quality assessment | Should |
| FP-05 | Multiple faces handling | Must |
| FP-06 | Embedding generation (prep) | Must |
| FP-07 | Embedding storage | Must |

#### 4.5.3 Face Quality Metrics

| ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ° | Threshold | Ğ”Ñ–Ñ Ğ¿Ñ€Ğ¸ failure |
|---------|-----------|-----------------|
| Face size | â‰¥ 80x80 px | Warning |
| Blur score | < 100 (Laplacian variance) | Warning |
| Brightness | 40-220 (mean pixel value) | Warning |
| Face angle | Â±30Â° (yaw/pitch) | Warning |

#### 4.5.4 Processing Pipeline

```
Input Photo
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Face Detection  â”‚ â† MTCNN / RetinaFace
â”‚ (find all faces)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Select Primary  â”‚ â† Largest face / centered
â”‚ Face            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Face Alignment  â”‚ â† Eye alignment
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Crop & Resize   â”‚ â† 160x160 or 112x112
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Quality Check   â”‚ â† Blur, brightness, angle
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Generate        â”‚ â† FaceNet / ArcFace
â”‚ Embedding       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
   512-dim vector
```

---

### 4.6 Database Module

#### 4.6.1 Schema Design

```sql
-- Core tables
CREATE TABLE guests (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    external_id VARCHAR(50),
    first_name VARCHAR(100),
    last_name VARCHAR(100),
    room_number VARCHAR(20),
    check_in_date TIMESTAMP,
    check_out_date TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),
    source VARCHAR(20) NOT NULL, -- 'web', 'email'
    status VARCHAR(20) DEFAULT 'pending'
);

CREATE TABLE documents (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    guest_id UUID REFERENCES guests(id),
    document_type VARCHAR(30),
    file_path VARCHAR(500),
    file_hash VARCHAR(64),
    mime_type VARCHAR(50),
    file_size_bytes INTEGER,
    uploaded_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE ocr_results (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    document_id UUID REFERENCES documents(id),
    provider VARCHAR(30),
    raw_response JSONB,
    extracted_data JSONB,
    confidence FLOAT,
    processing_time_ms INTEGER,
    processed_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE face_photos (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    guest_id UUID REFERENCES guests(id),
    original_path VARCHAR(500),
    cropped_path VARCHAR(500),
    quality_score FLOAT,
    quality_details JSONB,
    uploaded_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE face_embeddings (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    face_photo_id UUID REFERENCES face_photos(id),
    model_name VARCHAR(50),
    model_version VARCHAR(20),
    embedding VECTOR(512), -- pgvector
    created_at TIMESTAMP DEFAULT NOW()
);

-- Processing tracking
CREATE TABLE processing_jobs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    entity_type VARCHAR(30), -- 'document', 'photo'
    entity_id UUID,
    job_type VARCHAR(30), -- 'ocr', 'face_detection', 'embedding'
    status VARCHAR(20), -- 'pending', 'processing', 'completed', 'failed'
    attempts INTEGER DEFAULT 0,
    error_message TEXT,
    created_at TIMESTAMP DEFAULT NOW(),
    started_at TIMESTAMP,
    completed_at TIMESTAMP
);

-- Indexes
CREATE INDEX idx_guests_status ON guests(status);
CREATE INDEX idx_guests_created ON guests(created_at DESC);
CREATE INDEX idx_documents_guest ON documents(guest_id);
CREATE INDEX idx_processing_jobs_status ON processing_jobs(status);
CREATE INDEX idx_face_embeddings_vector ON face_embeddings 
    USING ivfflat (embedding vector_cosine_ops);
```

#### 4.6.2 File Storage Structure

```
/data/
â”œâ”€â”€ raw/
â”‚   â”œâ”€â”€ documents/
â”‚   â”‚   â””â”€â”€ {year}/{month}/{day}/{guest_id}/{document_id}.{ext}
â”‚   â””â”€â”€ photos/
â”‚       â””â”€â”€ {year}/{month}/{day}/{guest_id}/{photo_id}.{ext}
â”œâ”€â”€ processed/
â”‚   â”œâ”€â”€ faces/
â”‚   â”‚   â””â”€â”€ {guest_id}/{face_id}_cropped.jpg
â”‚   â””â”€â”€ documents/
â”‚       â””â”€â”€ {guest_id}/{document_id}_preprocessed.jpg
â””â”€â”€ temp/
    â””â”€â”€ {job_id}/
```

---

## 5. Ğ”Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¸

### 5.1 System Architecture Diagram

```mermaid
graph TB
    subgraph "Ingestion Layer"
        MS[Mail Server<br/>IMAP]
        WA[Web App<br/>React]
    end
    
    subgraph "API Layer"
        API[FastAPI<br/>Gateway]
    end
    
    subgraph "Processing Layer"
        Q[Redis<br/>Queue]
        W1[OCR Worker]
        W2[Face Worker]
        W3[File Worker]
    end
    
    subgraph "External Services"
        AZ[Azure Doc<br/>Intelligence]
        GC[Google Cloud<br/>Vision]
    end
    
    subgraph "Storage Layer"
        PG[(PostgreSQL)]
        FS[(File Storage)]
        VDB[(Vector DB<br/>Future)]
    end
    
    subgraph "Future: Edge Layer"
        NV[NVIDIA Dev Kit]
        CAM[Camera]
    end
    
    MS --> API
    WA --> API
    API --> Q
    Q --> W1
    Q --> W2
    Q --> W3
    W1 --> AZ
    W1 --> GC
    W1 --> PG
    W2 --> PG
    W2 --> VDB
    W3 --> FS
    
    CAM -.-> NV
    NV -.-> API
```

### 5.2 Data Flow Diagram

```mermaid
sequenceDiagram
    participant U as User/Email
    participant I as Ingestion
    participant Q as Queue
    participant O as OCR Worker
    participant F as Face Worker
    participant DB as Database
    participant S as Storage
    participant C as Cloud OCR
    
    U->>I: Submit photo + document
    I->>S: Store raw files
    I->>DB: Create guest record
    I->>Q: Enqueue OCR job
    I->>Q: Enqueue Face job
    
    Q->>O: Process OCR job
    O->>S: Get document image
    O->>O: Preprocess image
    O->>C: Call OCR API
    C-->>O: OCR result
    O->>DB: Save structured data
    O->>Q: Mark job complete
    
    Q->>F: Process Face job
    F->>S: Get photo
    F->>F: Detect faces
    F->>F: Crop & align
    F->>S: Save cropped face
    F->>F: Generate embedding
    F->>DB: Save embedding
    F->>Q: Mark job complete
```

### 5.3 AI Pipeline Diagram

```mermaid
graph LR
    subgraph "Input"
        IMG[Image]
    end
    
    subgraph "Preprocessing"
        RS[Resize]
        DN[Denoise]
        CT[Contrast]
    end
    
    subgraph "Detection"
        FD[Face<br/>Detection]
        DD[Document<br/>Detection]
    end
    
    subgraph "Processing"
        FA[Face<br/>Alignment]
        FC[Face<br/>Crop]
        FE[Embedding<br/>Generation]
        
        DP[Doc<br/>Preprocessing]
        OCR[OCR API]
        MRZ[MRZ<br/>Parsing]
    end
    
    subgraph "Output"
        EMB[Face<br/>Embedding]
        STR[Structured<br/>Data]
    end
    
    IMG --> RS --> DN --> CT
    CT --> FD --> FA --> FC --> FE --> EMB
    CT --> DD --> DP --> OCR --> MRZ --> STR
```

### 5.4 Future NVIDIA Dev Kit Integration Diagram

```mermaid
graph TB
    subgraph "Edge Device: NVIDIA Jetson Orin"
        CAM[USB/CSI Camera]
        DS[DeepStream SDK]
        INF[TensorRT Inference]
        
        subgraph "Models"
            FD[Face Detector]
            FR[Face Recognizer]
            TR[Tracker]
        end
        
        BUF[Frame Buffer]
        API_E[Edge API]
    end
    
    subgraph "Backend Server"
        API_S[Main API]
        DB[(Database)]
        VDB[(Vector DB)]
    end
    
    subgraph "Actions"
        ALR[Alert Service]
        LOG[Event Logger]
    end
    
    CAM --> DS
    DS --> BUF
    BUF --> INF
    INF --> FD
    FD --> FR
    FD --> TR
    FR --> API_E
    TR --> API_E
    
    API_E --> API_S
    API_S --> DB
    API_S --> VDB
    API_S --> ALR
    API_S --> LOG
```

### 5.5 Component Interaction Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  React   â”‚  HTTP   â”‚  FastAPI â”‚  Queue  â”‚        Celery Workers        â”‚  â”‚
â”‚   â”‚  Web App â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Server  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚  OCR  â”‚ â”‚ Face  â”‚ â”‚Fileâ”‚  â”‚  â”‚
â”‚        â”‚                    â”‚               â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”˜  â”‚  â”‚
â”‚        â”‚                    â”‚               â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜  â”‚
â”‚        â”‚                    â”‚                      â”‚         â”‚        â”‚       â”‚
â”‚        â”‚                    â–¼                      â”‚         â”‚        â”‚       â”‚
â”‚        â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚         â”‚        â”‚       â”‚
â”‚        â”‚              â”‚  Redis   â”‚                 â”‚         â”‚        â”‚       â”‚
â”‚        â”‚              â”‚  Cache   â”‚                 â”‚         â”‚        â”‚       â”‚
â”‚        â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚         â”‚        â”‚       â”‚
â”‚        â”‚                    â”‚                      â”‚         â”‚        â”‚       â”‚
â”‚        â”‚                    â”‚                      â–¼         â–¼        â–¼       â”‚
â”‚        â”‚               â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚        â”‚               â”‚PostgreSQLâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚         File Storage        â”‚  â”‚
â”‚        â”‚               â”‚   + pgvectorâ”‚        â”‚     (MinIO / Local FS)     â”‚  â”‚
â”‚        â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â”‚                    â–²                                                  â”‚
â”‚        â”‚                    â”‚                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                         Mail Ingestion Service                          â”‚  â”‚
â”‚   â”‚                      (IMAP Polling Daemon)                              â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â–²                                          â”‚
â”‚                                     â”‚                                          â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚                              â”‚ Internal    â”‚                                   â”‚
â”‚                              â”‚ Mail Server â”‚                                   â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Ğ•Ñ‚Ğ°Ğ¿Ğ¸ Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ— (Roadmap)

### 6.1 ĞĞ³Ğ»ÑĞ´ Ñ„Ğ°Ğ·

```
Phase 1          Phase 2          Phase 3          Phase 4
Infrastructure   Core Processing  AI Enhancement   Edge Integration
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   4 weeks          6 weeks          4 weeks          6 weeks
                                                        â”‚
                                              Requires NVIDIA Dev Kit
```

### 6.2 Phase 1: Infrastructure Foundation (4 Ñ‚Ğ¸Ğ¶Ğ½Ñ–)

**ĞœĞµÑ‚Ğ°:** Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ° Ñ–Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚Ğ° ingestion

| Ğ¢Ğ¸Ğ¶Ğ´ĞµĞ½ÑŒ | Ğ—Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ | Deliverables |
|---------|----------|--------------|
| 1 | ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğ° | Docker compose, PostgreSQL, Redis |
| 1 | Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° FastAPI Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ | API skeleton, health checks |
| 2 | Database schema | Migrations, models, repositories |
| 2 | File storage setup | MinIO/local, upload endpoints |
| 3 | Mail ingestion service | IMAP client, attachment extraction |
| 3 | Basic validation | MIME types, file size checks |
| 4 | React app skeleton | Camera API, upload form |
| 4 | Integration testing | E2E ingestion flow |

**Ğ—Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ–:** ĞĞµĞ¼Ğ°Ñ” (Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ¿Ğ¾Ñ‡Ğ¸Ğ½Ğ°Ñ‚Ğ¸ Ğ¾Ğ´Ñ€Ğ°Ğ·Ñƒ)

**Hardware:** Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ¸Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€/workstation

### 6.3 Phase 2: Core Processing (6 Ñ‚Ğ¸Ğ¶Ğ½Ñ–Ğ²)

**ĞœĞµÑ‚Ğ°:** OCR Ñ‚Ğ° Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ° Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¾Ğ±Ğ»Ğ¸Ñ‡

| Ğ¢Ğ¸Ğ¶Ğ´ĞµĞ½ÑŒ | Ğ—Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ | Deliverables |
|---------|----------|--------------|
| 5 | Celery workers setup | Task queue, monitoring |
| 5 | Azure OCR integration | API client, auth |
| 6 | OCR preprocessing | Image enhancement pipeline |
| 6 | MRZ parsing | Check digit validation |
| 7 | Data normalization | Name/date/country handling |
| 7 | Face detection service | MTCNN integration |
| 8 | Face cropping & quality | Alignment, quality metrics |
| 9 | Embedding generation | FaceNet/ArcFace integration |
| 9 | pgvector setup | Vector storage, basic search |
| 10 | Web app completion | Status display, history |

**Ğ—Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ–:** Phase 1 complete

**Hardware:** 
- Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ· GPU recommended (Ğ´Ğ»Ñ face processing)
- ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ Ğ¿Ñ€Ğ°Ñ†ÑĞ²Ğ°Ñ‚Ğ¸ Ğ½Ğ° CPU (Ğ¿Ğ¾Ğ²Ñ–Ğ»ÑŒĞ½Ñ–ÑˆĞµ)

### 6.4 Phase 3: AI Enhancement (4 Ñ‚Ğ¸Ğ¶Ğ½Ñ–)

**ĞœĞµÑ‚Ğ°:** ĞŸĞ¾ĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ½Ñ ÑĞºĞ¾ÑÑ‚Ñ– Ñ‚Ğ° Ğ´Ğ¾ÑĞ»Ñ–Ğ´Ğ¶ĞµĞ½Ğ½Ñ

| Ğ¢Ğ¸Ğ¶Ğ´ĞµĞ½ÑŒ | Ğ—Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ | Deliverables |
|---------|----------|--------------|
| 11 | OCR fallback (Google) | Multi-provider support |
| 11 | Confidence thresholds | Auto-review flagging |
| 12 | Face matching research | Similarity thresholds |
| 12 | Duplicate detection | Guest deduplication |
| 13 | Quality improvements | Edge cases handling |
| 13 | Performance optimization | Batch processing |
| 14 | Documentation | API docs, runbooks |
| 14 | Testing & hardening | Load testing, error handling |

**Ğ—Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ–:** Phase 2 complete

**Hardware:** Existing infrastructure

### 6.5 Phase 4: Edge Integration (6 Ñ‚Ğ¸Ğ¶Ğ½Ñ–Ğ²)

**ĞœĞµÑ‚Ğ°:** NVIDIA Dev Kit Ñ–Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ

| Ğ¢Ğ¸Ğ¶Ğ´ĞµĞ½ÑŒ | Ğ—Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ | Deliverables |
|---------|----------|--------------|
| 15 | Dev Kit setup | JetPack, environment |
| 15 | Camera integration | USB/CSI camera stream |
| 16 | Model conversion | TensorRT optimization |
| 16 | DeepStream pipeline | Video analytics |
| 17 | Face detection edge | Real-time detection |
| 17 | Face recognition edge | Embedding on edge |
| 18 | Backend integration | Edge-to-cloud sync |
| 18 | Tracking research | Multi-face tracking |
| 19 | V-JEPA exploration | Video understanding |
| 19 | Performance tuning | FPS optimization |
| 20 | Demo preparation | End-to-end demo |
| 20 | Documentation | Edge deployment guide |

**Ğ—Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ–:** 
- Phase 3 complete
- NVIDIA Jetson Orin Dev Kit
- USB/CSI camera

**Hardware:**
- NVIDIA Jetson Orin Developer Kit
- Compatible camera (USB 3.0 or CSI)
- Adequate power supply
- Network connectivity

### 6.6 Dependency Graph

```mermaid
gantt
    title Project Roadmap
    dateFormat  YYYY-MM-DD
    section Phase 1
    Docker/Infra          :p1a, 2026-01-20, 1w
    Database Setup        :p1b, after p1a, 1w
    Mail Ingestion        :p1c, after p1b, 1w
    Web App Skeleton      :p1d, after p1c, 1w
    
    section Phase 2
    Celery Workers        :p2a, after p1d, 1w
    OCR Integration       :p2b, after p2a, 2w
    Face Detection        :p2c, after p2b, 2w
    Embeddings            :p2d, after p2c, 1w
    
    section Phase 3
    OCR Fallback          :p3a, after p2d, 1w
    Face Matching         :p3b, after p3a, 2w
    Optimization          :p3c, after p3b, 1w
    
    section Phase 4
    Dev Kit Setup         :p4a, after p3c, 1w
    Edge Detection        :p4b, after p4a, 2w
    Edge Recognition      :p4c, after p4b, 2w
    Demo                  :p4d, after p4c, 1w
```

### 6.7 Ğ©Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ Ğ±ĞµĞ· NVIDIA Dev Kit

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ‘ĞµĞ· Dev Kit | Ğ— Dev Kit |
|-----------|-------------|-----------|
| Mail ingestion | âœ… ĞŸĞ¾Ğ²Ğ½Ğ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ–ÑÑ‚ÑŒ | âœ… |
| Web ingestion | âœ… ĞŸĞ¾Ğ²Ğ½Ğ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ–ÑÑ‚ÑŒ | âœ… |
| OCR (cloud) | âœ… ĞŸĞ¾Ğ²Ğ½Ğ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ–ÑÑ‚ÑŒ | âœ… |
| Face detection | âœ… CPU/cloud (Ğ¿Ğ¾Ğ²Ñ–Ğ»ÑŒĞ½Ñ–ÑˆĞµ) | âœ… Real-time |
| Face embeddings | âœ… CPU (batch) | âœ… Real-time |
| Face recognition | âœ… Batch matching | âœ… Real-time |
| Video stream | âŒ | âœ… |
| Tracking | âŒ | âœ… |
| V-JEPA research | âŒ | âœ… |

---

## 7. Ğ Ğ¸Ğ·Ğ¸ĞºĞ¸ Ñ‚Ğ° Ğ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ğ½Ñ

### 7.1 Technical Risks

| Ğ Ğ¸Ğ·Ğ¸Ğº | Ğ™Ğ¼Ğ¾Ğ²Ñ–Ñ€Ğ½Ñ–ÑÑ‚ÑŒ | Ğ’Ğ¿Ğ»Ğ¸Ğ² | Mitigation |
|-------|-------------|-------|------------|
| **OCR ÑĞºÑ–ÑÑ‚ÑŒ Ğ´Ğ»Ñ non-MRZ** | Ğ’Ğ¸ÑĞ¾ĞºĞ° | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ | Multi-provider fallback, manual review queue |
| **Ğ Ñ–Ğ·Ğ½Ğ¾Ğ¼Ğ°Ğ½Ñ–Ñ‚Ğ½Ñ–ÑÑ‚ÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ–Ğ²** | Ğ’Ğ¸ÑĞ¾ĞºĞ° | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ | Focus Ğ½Ğ° MRZ ÑĞ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑƒ, Ñ–Ñ‚ĞµÑ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğµ Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ |
| **Cloud OCR latency** | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ | ĞĞ¸Ğ·ÑŒĞºĞ¸Ğ¹ | Async processing, batch optimization |
| **Face detection Ğ² Ğ¿Ğ¾Ğ³Ğ°Ğ½Ğ¸Ñ… ÑƒĞ¼Ğ¾Ğ²Ğ°Ñ…** | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ | Quality scoring, user feedback |
| **pgvector scale** | ĞĞ¸Ğ·ÑŒĞºĞ° | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ | ĞŸĞ°Ñ€Ñ‚Ğ¸Ñ†Ñ–Ğ¾Ğ½ÑƒĞ²Ğ°Ğ½Ğ½Ñ, Milvus ÑĞº Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ° |

### 7.2 Operational Risks

| Ğ Ğ¸Ğ·Ğ¸Ğº | Ğ™Ğ¼Ğ¾Ğ²Ñ–Ñ€Ğ½Ñ–ÑÑ‚ÑŒ | Ğ’Ğ¿Ğ»Ğ¸Ğ² | Mitigation |
|-------|-------------|-------|------------|
| **Internal mail server changes** | ĞĞ¸Ğ·ÑŒĞºĞ° | Ğ’Ğ¸ÑĞ¾ĞºĞ¸Ğ¹ | Abstraction layer, config-driven |
| **Cloud API quota/cost** | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ | Rate limiting, caching |
| **Network issues** | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ | Retry logic, circuit breaker |
| **Storage capacity** | ĞĞ¸Ğ·ÑŒĞºĞ° | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ | Monitoring, cleanup policies |

### 7.3 Hardware Risks

| Ğ Ğ¸Ğ·Ğ¸Ğº | Ğ™Ğ¼Ğ¾Ğ²Ñ–Ñ€Ğ½Ñ–ÑÑ‚ÑŒ | Ğ’Ğ¿Ğ»Ğ¸Ğ² | Mitigation |
|-------|-------------|-------|------------|
| **Dev Kit delays** | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ | Ğ’Ğ¸ÑĞ¾ĞºĞ¸Ğ¹ | Phase 1-3 Ğ½Ğµ Ğ·Ğ°Ğ»ĞµĞ¶Ğ°Ñ‚ÑŒ Ğ²Ñ–Ğ´ Dev Kit |
| **Camera compatibility** | ĞĞ¸Ğ·ÑŒĞºĞ° | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ | Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿ĞµÑ€ĞµĞ´ Ğ·Ğ°ĞºÑƒĞ¿ĞºĞ¾Ñ |
| **Power requirements** | ĞĞ¸Ğ·ÑŒĞºĞ° | ĞĞ¸Ğ·ÑŒĞºĞ¸Ğ¹ | Proper power supply planning |

### 7.4 OCR Quality Considerations

#### Ğ¤Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸ Ğ²Ğ¿Ğ»Ğ¸Ğ²Ñƒ Ğ½Ğ° ÑĞºÑ–ÑÑ‚ÑŒ

| Ğ¤Ğ°ĞºÑ‚Ğ¾Ñ€ | Ğ’Ğ¿Ğ»Ğ¸Ğ² | Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ñ–Ñ |
|--------|-------|--------------|
| **ĞÑĞ²Ñ–Ñ‚Ğ»ĞµĞ½Ğ½Ñ** | Ğ’Ğ¸ÑĞ¾ĞºĞ¸Ğ¹ | Guidelines Ğ´Ğ»Ñ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ñ–Ğ², auto-enhancement |
| **ĞšÑƒÑ‚ Ğ½Ğ°Ñ…Ğ¸Ğ»Ñƒ** | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ | Deskew preprocessing |
| **Ğ Ğ¾Ğ·Ğ´Ñ–Ğ»ÑŒĞ½Ğ° Ğ·Ğ´Ğ°Ñ‚Ğ½Ñ–ÑÑ‚ÑŒ** | Ğ’Ğ¸ÑĞ¾ĞºĞ¸Ğ¹ | ĞœÑ–Ğ½Ñ–Ğ¼ÑƒĞ¼ 300 DPI Ğ°Ğ±Ğ¾ 2MP |
| **Ğ¤Ğ¾ĞºÑƒÑ** | Ğ’Ğ¸ÑĞ¾ĞºĞ¸Ğ¹ | Blur detection, re-capture prompt |
| **Ğ‘Ğ»Ğ¸ĞºĞ¸** | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ | Anti-glare guidelines |
| **Ğ—Ğ½Ğ¾ÑˆĞµĞ½Ñ–ÑÑ‚ÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°** | Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ | Manual review Ğ´Ğ»Ñ low confidence |

#### ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ° ÑĞºÑ–ÑÑ‚ÑŒ OCR

| Ğ¢Ğ¸Ğ¿ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ° | MRZ Accuracy | Full-text Accuracy |
|---------------|--------------|-------------------|
| ĞĞ¾Ğ²Ğ¸Ğ¹ Ğ¿Ğ°ÑĞ¿Ğ¾Ñ€Ñ‚ (MRZ) | 95-99% | 85-95% |
| Ğ¡Ñ‚Ğ°Ñ€Ğ¸Ğ¹ Ğ¿Ğ°ÑĞ¿Ğ¾Ñ€Ñ‚ | 80-90% | 70-85% |
| ID-ĞºĞ°Ñ€Ñ‚ĞºĞ° (Ğ„Ğ¡) | 85-95% | 75-90% |
| ID-ĞºĞ°Ñ€Ñ‚ĞºĞ° (Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ°, Ğ½Ğ¾Ğ²Ğ°) | 80-90% | 70-85% |
| ID-ĞºĞ°Ñ€Ñ‚ĞºĞ° (Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ°, ÑÑ‚Ğ°Ñ€Ğ°) | 60-75% | 50-70% |

### 7.5 Lighting Considerations for Face Recognition

| Ğ£Ğ¼Ğ¾Ğ²Ğ° | Ğ’Ğ¿Ğ»Ğ¸Ğ² | Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ñ–Ñ |
|-------|-------|--------------|
| **ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ½Ñ” Ğ¾ÑĞ²Ñ–Ñ‚Ğ»ĞµĞ½Ğ½Ñ** | Face detection failures | ĞœÑ–Ğ½Ñ–Ğ¼ÑƒĞ¼ 300 lux |
| **ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ²Ğµ ÑĞ²Ñ–Ñ‚Ğ»Ğ¾** | Poor face quality | Avoid backlight |
| **Ğ¢Ñ–Ğ½Ñ– Ğ½Ğ° Ğ¾Ğ±Ğ»Ğ¸Ñ‡Ñ‡Ñ–** | Embedding degradation | Diffused lighting |
| **Ğ Ñ–Ğ·ĞºĞµ ÑˆÑ‚ÑƒÑ‡Ğ½Ğµ ÑĞ²Ñ–Ñ‚Ğ»Ğ¾** | Color cast | White balance |

### 7.6 ĞĞ±Ğ¼ĞµĞ¶ĞµĞ½Ğ½Ñ R&D Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚Ñƒ

| ĞĞ±Ğ¼ĞµĞ¶ĞµĞ½Ğ½Ñ | ĞĞ¿Ğ¸Ñ | Impact |
|-----------|------|--------|
| **ĞĞµ production-ready** | ĞĞµĞ¼Ğ°Ñ” HA, DR, Ğ¿Ğ¾Ğ²Ğ½Ğ¾Ğ³Ğ¾ error handling | ĞĞµ Ğ´Ğ»Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ |
| **ĞĞµĞ¼Ğ°Ñ” GDPR compliance** | Data retention, consent Ğ½Ğµ Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ | Ğ¢Ñ–Ğ»ÑŒĞºĞ¸ Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ¸Ñ… Ğ´Ğ°Ğ½Ğ¸Ñ… |
| **Single location** | ĞĞµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±ÑƒÑ”Ñ‚ÑŒÑÑ Ğ½Ğ° Ğ¼ĞµÑ€ĞµĞ¶Ñƒ Ğ³Ğ¾Ñ‚ĞµĞ»Ñ–Ğ² | ĞŸĞ¾Ñ‚Ñ€ĞµĞ±ÑƒÑ” Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ğ¸Ñ… Ğ·Ğ¼Ñ–Ğ½ |
| **Limited audit trail** | Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğµ Ğ»Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ | ĞĞµ Ğ´Ğ»Ñ compliance |
| **No user management** | Single-user mode | ĞŸĞ¾Ñ‚Ñ€ĞµĞ±ÑƒÑ” auth system |

---

## 8. Deliverables

### 8.1 Phase 1 Deliverables

| Deliverable | Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ | ĞĞ¿Ğ¸Ñ |
|-------------|--------|------|
| Infrastructure code | Git repo | Docker compose, configs |
| Database migrations | SQL/Alembic | Schema + initial data |
| Mail ingestion service | Python | Daemon + tests |
| Web app MVP | React | Basic upload/capture |
| API documentation | OpenAPI | Swagger UI |

### 8.2 Phase 2 Deliverables

| Deliverable | Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ | ĞĞ¿Ğ¸Ñ |
|-------------|--------|------|
| OCR service | Python | Azure integration + preprocessing |
| Face processing service | Python | Detection + embedding |
| Processing workers | Python/Celery | Async job processing |
| Web app complete | React | Full functionality |
| Integration tests | pytest | E2E test suite |

### 8.3 Phase 3 Deliverables

| Deliverable | Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ | ĞĞ¿Ğ¸Ñ |
|-------------|--------|------|
| Multi-provider OCR | Python | Google fallback |
| Face matching POC | Python | Similarity search demo |
| Performance report | Markdown | Benchmarks, bottlenecks |
| Optimization implementation | Code | Batch processing, caching |
| Complete documentation | Markdown | All modules documented |

### 8.4 Phase 4 Deliverables

| Deliverable | Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ | ĞĞ¿Ğ¸Ñ |
|-------------|--------|------|
| Edge deployment package | Docker/JetPack | Dev Kit setup |
| TensorRT models | Model files | Optimized inference |
| DeepStream pipeline | Python/C++ | Video analytics |
| Edge-cloud integration | Code | Sync protocol |
| Demo application | Working system | End-to-end demo |
| Research report | Markdown | V-JEPA findings |

### 8.5 Final Deliverables

| Deliverable | ĞĞ¿Ğ¸Ñ |
|-------------|------|
| **Source code repository** | All code, properly structured, with README |
| **Documentation package** | Architecture docs, API docs, deployment guides |
| **Demo environment** | Working demo with sample data |
| **Technical report** | Findings, benchmarks, recommendations |
| **Recommendations document** | Next steps for production development |

### 8.6 Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ñ–Ñ— Ğ´Ğ»Ñ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ ĞµÑ‚Ğ°Ğ¿Ñƒ

Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¿Ğ¾Ğ²Ğ¸Ğ½ĞµĞ½ Ğ¼Ñ–ÑÑ‚Ğ¸Ñ‚Ğ¸:

1. **Production readiness gaps**
   - High availability requirements
   - Disaster recovery needs
   - Security hardening

2. **Scale considerations**
   - Multi-location architecture
   - Data synchronization
   - Central management

3. **Compliance requirements**
   - GDPR implementation
   - Data retention policies
   - Consent management
   - Audit trails

4. **ML/AI improvements**
   - Model fine-tuning recommendations
   - Edge model optimization
   - Continuous learning pipeline

5. **Hardware recommendations**
   - Production-grade Dev Kit
   - Camera specifications
   - Network requirements

---

## Appendix A: API Reference (Draft)

### A.1 Guest Endpoints

```yaml
POST /api/v1/guests:
  summary: Create new guest
  request:
    body:
      first_name: string (optional)
      last_name: string (optional)
      room_number: string (optional)
  response:
    201:
      id: uuid
      status: "pending"

GET /api/v1/guests/{id}:
  summary: Get guest details
  response:
    200:
      id: uuid
      first_name: string
      last_name: string
      documents: array
      photos: array
      status: string

GET /api/v1/guests/{id}/status:
  summary: Get processing status
  response:
    200:
      ocr_status: string
      face_status: string
      overall_status: string
```

### A.2 Document Endpoints

```yaml
POST /api/v1/guests/{id}/documents:
  summary: Upload document
  request:
    content-type: multipart/form-data
    body:
      file: binary
      document_type: string (optional)
  response:
    201:
      document_id: uuid
      status: "queued"

GET /api/v1/documents/{id}/ocr:
  summary: Get OCR results
  response:
    200:
      status: string
      extracted_data: object
      confidence: float
```

### A.3 Photo Endpoints

```yaml
POST /api/v1/guests/{id}/photos:
  summary: Upload photo
  request:
    content-type: multipart/form-data
    body:
      file: binary
  response:
    201:
      photo_id: uuid
      status: "queued"

GET /api/v1/photos/{id}/face:
  summary: Get face processing results
  response:
    200:
      status: string
      faces_detected: int
      quality_score: float
      cropped_url: string
```

---

## Appendix B: Configuration Reference

### B.1 Environment Variables

```bash
# Database
DATABASE_URL=postgresql://user:pass@localhost:5432/guestdb
REDIS_URL=redis://localhost:6379/0

# Storage
STORAGE_TYPE=local  # or 'minio'
STORAGE_PATH=/data
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin

# OCR
AZURE_DOCUMENT_INTELLIGENCE_ENDPOINT=https://xxx.cognitiveservices.azure.com/
AZURE_DOCUMENT_INTELLIGENCE_KEY=xxx
GOOGLE_CLOUD_VISION_CREDENTIALS=/path/to/credentials.json

# Mail
MAIL_IMAP_HOST=internal-mail.local
MAIL_IMAP_PORT=993
MAIL_IMAP_USER=ingestion@internal
MAIL_IMAP_PASSWORD=xxx
MAIL_POLLING_INTERVAL=30

# Processing
MAX_CONCURRENT_OCR_JOBS=5
MAX_CONCURRENT_FACE_JOBS=3
OCR_TIMEOUT_SECONDS=60
FACE_DETECTION_BACKEND=mtcnn  # or 'retinaface'
```

### B.2 Docker Compose Services

```yaml
services:
  api:
    image: guest-recognition-api
    ports:
      - "8000:8000"
    depends_on:
      - db
      - redis
      
  worker-ocr:
    image: guest-recognition-worker
    command: celery -A app.worker worker -Q ocr
    
  worker-face:
    image: guest-recognition-worker
    command: celery -A app.worker worker -Q face
    
  mail-ingestion:
    image: guest-recognition-mail
    
  web:
    image: guest-recognition-web
    ports:
      - "3000:80"
      
  db:
    image: pgvector/pgvector:pg15
    
  redis:
    image: redis:7-alpine
    
  minio:
    image: minio/minio
```

---

## Appendix C: Glossary

| Term | Definition |
|------|------------|
| **ArcFace** | Face recognition model for embedding generation |
| **DeepStream** | NVIDIA SDK for video analytics |
| **Embedding** | Vector representation of data (face, document) |
| **FaceNet** | Google's face recognition model |
| **JetPack** | NVIDIA SDK for Jetson devices |
| **MRZ** | Machine Readable Zone on travel documents |
| **MTCNN** | Multi-task Cascaded Convolutional Networks for face detection |
| **OCR** | Optical Character Recognition |
| **pgvector** | PostgreSQL extension for vector similarity search |
| **RetinaFace** | Face detection model |
| **TensorRT** | NVIDIA's inference optimization library |
| **V-JEPA** | Meta's video understanding model |

---

*ĞšÑ–Ğ½ĞµÑ†ÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°*